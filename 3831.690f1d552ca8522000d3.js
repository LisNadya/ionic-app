(self.webpackChunkdarwin_mobile_ui=self.webpackChunkdarwin_mobile_ui||[]).push([[3831],{3831:(e,i,t)=>{"use strict";t.r(i),t.d(i,{Tab3PageModule:()=>w});var n=t(7823),a=t(8093),o=t(8583),s=t(3679),c=t(639);const d=["video1"],r=["canvas1"];function v(e,i){1&e&&c._UZ(0,"video",15,16)}function h(e,i){1&e&&(c.TgZ(0,"div"),c._uU(1,"Access to camera denied"),c.qZA())}function l(e,i){if(1&e){const e=c.EpF();c.TgZ(0,"div",5),c.TgZ(1,"div",6),c.TgZ(2,"ion-button",17),c.NdJ("click",function(){return c.CHM(e),c.oxw().onSnap()}),c._uU(3," Take Snap "),c.qZA(),c.TgZ(4,"ion-button",17),c.NdJ("click",function(){return c.CHM(e),c.oxw().switchCamera()}),c._uU(5," Switch Camera "),c.qZA(),c.qZA(),c.qZA()}}function u(e,i){if(1&e&&(c.TgZ(0,"div",18),c.TgZ(1,"div",6),c.TgZ(2,"a",19),c._UZ(3,"i",20),c._uU(4," Download"),c.qZA(),c.qZA(),c.qZA()),2&e){const e=c.oxw();c.xp6(2),c.s9C("href",e.downloadLink,c.LSH)}}const g=function(e){return{"has-picture":e}};let p=(()=>{class e{constructor(){this.cameraType="user",this.videoCapable=!0,this.pictureTaken=!1}ngOnInit(){}ngAfterViewInit(){this.configMedia()}configMedia(){this.canvas=this.canvasRef.nativeElement,this.video=this.videoRef.nativeElement,navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:{facingMode:this.cameraType},audio:!1}).then(e=>{this.mediaStream=e,this.videoCapable=!0;const i=this;this.video.srcObject=this.mediaStream,this.video.play().then(e=>{i.canvas.width=i.video.videoWidth,i.canvas.height=i.video.videoHeight})}).catch(e=>{this.videoCapable=!1})}onSnap(){this.canvasRef.nativeElement.height=this.videoRef.nativeElement.videoHeight,this.canvasRef.nativeElement.width=this.videoRef.nativeElement.videoWidth,this.canvas.getContext("2d").drawImage(this.video,0,0,this.canvas.width,this.canvas.height),this.pictureTaken=!0,this.downloadLink=this.canvas.toDataURL()}switchCamera(){this.cameraType="user"===this.cameraType?"environment":"user",this.configMedia()}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-tab3"]],viewQuery:function(e,i){if(1&e&&(c.Gf(d,5),c.Gf(r,5)),2&e){let e;c.iGM(e=c.CRH())&&(i.videoRef=e.first),c.iGM(e=c.CRH())&&(i.canvasRef=e.first)}},decls:20,vars:9,consts:[[3,"translucent"],["color","danger"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"row","mb-2"],[1,"col-12","col-md-4","offset-md-4","text-center"],["width","300","autoplay","","class","has-picture",4,"ngIf"],[4,"ngIf"],["class","row mb-2",4,"ngIf"],[1,"row"],[1,"col-12","col-md-4","offset-md-4","py-2","px-2","mb-1"],["width","100%",3,"ngClass"],["canvas1",""],["class","row mb-5",4,"ngIf"],["width","300","autoplay","",1,"has-picture"],["video1",""],[3,"click"],[1,"row","mb-5"],["download","image.png",1,"btn","btn-primary","btn-lg",3,"href"],[1,"fa","fa-download"]],template:function(e,i){1&e&&(c.TgZ(0,"ion-header",0),c.TgZ(1,"ion-toolbar",1),c.TgZ(2,"ion-title"),c._uU(3," Camera "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(4,"ion-content",2),c.TgZ(5,"ion-header",3),c.TgZ(6,"ion-toolbar"),c.TgZ(7,"ion-title",4),c._uU(8,"Camera"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(9,"div",5),c.TgZ(10,"div",6),c.YNc(11,v,2,0,"video",7),c.YNc(12,h,2,0,"div",8),c.qZA(),c.qZA(),c.YNc(13,l,6,0,"div",9),c.TgZ(14,"div",10),c.TgZ(15,"div",11),c.TgZ(16,"canvas",12,13),c._uU(18,">"),c.qZA(),c.qZA(),c.qZA(),c.YNc(19,u,5,1,"div",14),c.qZA()),2&e&&(c.Q6J("translucent",!0),c.xp6(4),c.Q6J("fullscreen",!0),c.xp6(7),c.Q6J("ngIf",i.videoCapable),c.xp6(1),c.Q6J("ngIf",!i.videoCapable),c.xp6(1),c.Q6J("ngIf",i.videoCapable),c.xp6(3),c.Q6J("ngClass",c.VKq(7,g,i.pictureTaken)),c.xp6(3),c.Q6J("ngIf",i.pictureTaken))},directives:[n.Gu,n.sr,n.wd,n.W2,o.O5,o.mk,n.YG],styles:["canvas[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:10px}.has-picture[_ngcontent-%COMP%]{border:1px solid silver;border-radius:5px}"]}),e})();var f=t(581);const m=[{path:"",component:p}];let Z=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[a.Bz.forChild(m)],a.Bz]}),e})(),w=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[n.Pc,o.ez,s.u5,f.e,a.Bz.forChild([{path:"",component:p}]),Z]]}),e})()}}]);