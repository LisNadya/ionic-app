(self.webpackChunkdarwin_mobile_ui=self.webpackChunkdarwin_mobile_ui||[]).push([[3831],{3831:(e,i,t)=>{"use strict";t.r(i),t.d(i,{Tab3PageModule:()=>w});var n=t(7823),a=t(8093),o=t(8583),c=t(3679),s=t(639);const r=["video1"],d=["canvas1"];function v(e,i){1&e&&s._UZ(0,"video",16,17)}function h(e,i){1&e&&(s.TgZ(0,"div"),s._uU(1,"Access to camera denied"),s.qZA())}function l(e,i){if(1&e){const e=s.EpF();s.TgZ(0,"ion-button",10),s.NdJ("click",function(){return s.CHM(e),s.oxw().onSnap()}),s._uU(1," Take Snap "),s.qZA()}}function u(e,i){if(1&e&&(s.TgZ(0,"div",18),s.TgZ(1,"div",6),s.TgZ(2,"a",19),s._UZ(3,"i",20),s._uU(4," Download"),s.qZA(),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(2),s.s9C("href",e.downloadLink,s.LSH)}}const g=function(e){return{"has-picture":e}};let p=(()=>{class e{constructor(){this.cameraType="user",this.videoCapable=!0,this.pictureTaken=!1}ngOnInit(){}ngAfterViewInit(){this.configMedia()}configMedia(){this.canvas=this.canvasRef.nativeElement,this.video=this.videoRef.nativeElement,this.video.srcObject&&this.video.srcObject.getTracks().map(e=>e.stop()),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:{facingMode:{exact:this.cameraType}},audio:!1}).then(e=>{this.mediaStream=e;const i=this;this.video.srcObject=this.mediaStream,this.video.play().then(e=>{i.canvas.width=i.video.videoWidth,i.canvas.height=i.video.videoHeight})}).catch(e=>{})}onSnap(){this.canvasRef.nativeElement.height=this.videoRef.nativeElement.videoHeight,this.canvasRef.nativeElement.width=this.videoRef.nativeElement.videoWidth,this.canvas.getContext("2d").drawImage(this.video,0,0,this.canvas.width,this.canvas.height),this.pictureTaken=!0,this.downloadLink=this.canvas.toDataURL()}switchCamera(){this.cameraType="user"===this.cameraType?"environment":"user",this.configMedia()}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-tab3"]],viewQuery:function(e,i){if(1&e&&(s.Gf(r,5),s.Gf(d,5)),2&e){let e;s.iGM(e=s.CRH())&&(i.videoRef=e.first),s.iGM(e=s.CRH())&&(i.canvasRef=e.first)}},decls:24,vars:9,consts:[[3,"translucent"],["color","danger"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"row","mb-2"],[1,"col-12","col-md-4","offset-md-4","text-center"],["width","300","autoplay","","class","has-picture",4,"ngIf"],[4,"ngIf"],[3,"click",4,"ngIf"],[3,"click"],[1,"row"],[1,"col-12","col-md-4","offset-md-4","py-2","px-2","mb-1"],["width","100%",3,"ngClass"],["canvas1",""],["class","row mb-5",4,"ngIf"],["width","300","autoplay","",1,"has-picture"],["video1",""],[1,"row","mb-5"],["download","image.png",1,"btn","btn-primary","btn-lg",3,"href"],[1,"fa","fa-download"]],template:function(e,i){1&e&&(s.TgZ(0,"ion-header",0),s.TgZ(1,"ion-toolbar",1),s.TgZ(2,"ion-title"),s._uU(3," Camera "),s.qZA(),s.qZA(),s.qZA(),s.TgZ(4,"ion-content",2),s.TgZ(5,"ion-header",3),s.TgZ(6,"ion-toolbar"),s.TgZ(7,"ion-title",4),s._uU(8,"Camera"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"div",5),s.TgZ(10,"div",6),s.YNc(11,v,2,0,"video",7),s.YNc(12,h,2,0,"div",8),s.qZA(),s.qZA(),s.TgZ(13,"div",5),s.TgZ(14,"div",6),s.YNc(15,l,2,0,"ion-button",9),s.TgZ(16,"ion-button",10),s.NdJ("click",function(){return i.switchCamera()}),s._uU(17," Switch Camera "),s.qZA(),s.qZA(),s.qZA(),s.TgZ(18,"div",11),s.TgZ(19,"div",12),s.TgZ(20,"canvas",13,14),s._uU(22,">"),s.qZA(),s.qZA(),s.qZA(),s.YNc(23,u,5,1,"div",15),s.qZA()),2&e&&(s.Q6J("translucent",!0),s.xp6(4),s.Q6J("fullscreen",!0),s.xp6(7),s.Q6J("ngIf",i.videoCapable),s.xp6(1),s.Q6J("ngIf",!i.videoCapable),s.xp6(3),s.Q6J("ngIf",i.videoCapable),s.xp6(5),s.Q6J("ngClass",s.VKq(7,g,i.pictureTaken)),s.xp6(3),s.Q6J("ngIf",i.pictureTaken))},directives:[n.Gu,n.sr,n.wd,n.W2,o.O5,n.YG,o.mk],styles:["canvas[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:10px}.has-picture[_ngcontent-%COMP%]{border:1px solid silver;border-radius:5px}"]}),e})();var f=t(581);const m=[{path:"",component:p}];let Z=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[a.Bz.forChild(m)],a.Bz]}),e})(),w=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[n.Pc,o.ez,c.u5,f.e,a.Bz.forChild([{path:"",component:p}]),Z]]}),e})()}}]);